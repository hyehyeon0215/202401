<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>탭 메뉴 연습</title>

    <style>
        * {margin: 0; padding: 0; box-sizing: border-box;}
        a {text-decoration: none;}
        ul, ol, li {list-style: none;}
        .tab-box {width: 100%; height: 1000px; padding-top: 50px;}
        .tab-box .tab {display: flex; justify-content: center; position: relative; margin-bottom: 50px;}
        .tab-box .tab .tab-btn {display: flex; margin: 0 auto; background-color: #fff; height: 1px;}
        .tab-box .tab .tab-btn li {width: 42px; height: 100%; display: flex; align-items: center; position: relative;}
        .tab-box .tab .tab-btn li:not(:first-of-type, :last-of-type) {justify-content: center; width: 84px;}
        .tab-box .tab .tab-btn li:last-of-type {justify-content: end;}
        .tab-box .tab .tab-btn li span {position: absolute; bottom: -40px; left: 50%; transform: translateX(-50%);}
        .tab-box .tab .tab-btn li:last-of-type span {left: auto; right: -10px; transform: none;}
        .tab-box .tab .tab-btn li:first-of-type span {left: -10px; transform: none;}
        .tab-box .tab .tab-btn li.on img {filter: invert(42%) sepia(70%) saturate(2262%) hue-rotate(326deg) brightness(90%) contrast(95%); transition: .5s;}
        /* .tab-box .tab .tab-btn li.on span {font-weight: 700; font-size: 20px;} */
        .tab-box .tab .active-bar {position: absolute; width: 0; height: 1px; background-color: #e14b56; top: 50%; transform: translateY(-50%); left: 0; transition: .5s;}
    
        .tab-box .tab-content {display: flex; justify-content: center; align-items: center}
        .tab-box .tab-content li {width: 500px; background-color: #fff; height: 500px; justify-content: center; align-items: center; font-size: 30px; font-weight: 700; display: none;}
        .tab-box .tab-content li.on {display: flex;}

        .tab-box .tab-arrow {display: flex; position: absolute; width: 600px; justify-content: space-between; left: 50%; transform: translateX(-50%); top: 40%;}
        .tab-box .tab-arrow li a {font-size: 40px;}
    </style>

    <!-- <script>
        window.onload=function(){
            const tabs = document.querySelectorAll(".tab-btn li");
            const bar = document.querySelector(".active-bar");
            const contents =document.querySelectorAll(".tab-content>li");
            // const brand_txt = document.querySelector(".brand_title");

            bar.style.left = tabs[0].offsetLeft + "px";
            bar.style.width = tabs[0].offsetWidth + "px";
            bar.style.top = tabs[0].offsetTop + tabs[0].offsetHeight + "px";

            tabs.forEach((el, index)=>{
                el.addEventListener("click", (e)=> {
                    let bar_index = 1;
                    e.preventDefault();
                    tabs.forEach((el)=>{
                        el.classList.remove("on");
                    })
                    el.classList.add("on");

                    bar.style.left = e.currentTarget.offsetLeft + "px";
                    bar.style.width = e.currentTarget.offsetWidth + "px";
                    bar.style.top = e.currentTarget.offsetTop + e.offsetHeight + "px";


                    contents.forEach((el)=>{
                        el.classList.remove("on");
                    })
                    contents[index].classList.add("on");
                })
            })
        }

        function prev() {
            const tabs = document.querySelectorAll(".tab-btn li");
            const contents = document.querySelectorAll(".tab-content > li");
            const bar = document.querySelector(".active-bar");

            let currentIndex = -1;
            tabs.forEach((el, index) => {
                if (el.classList.contains('on')) {
                    currentIndex = index;
                }
            });

            if (currentIndex !== -1) {
                let newIndex = (currentIndex - 1 + tabs.length) % tabs.length;

                if (currentIndex === 0) {
                    newIndex = tabs.length - 1; // 현재 탭이 첫 번째 탭일 경우 마지막 탭으로 이동
                }

                tabs.forEach((el) => {
                    el.classList.remove("on");
                });
                contents.forEach((el) => {
                    el.classList.remove("on");
                });

                tabs[newIndex].classList.add("on");
                contents[newIndex].classList.add("on");

                bar.style.left = tabs[newIndex].offsetLeft + "px";
                bar.style.width = tabs[newIndex].offsetWidth + "px";
                bar.style.top = tabs[newIndex].offsetTop + tabs[newIndex].offsetHeight + "px";
            }
        }

        function next() {
            const tabs = document.querySelectorAll(".tab-btn li");
            const contents = document.querySelectorAll(".tab-content > li");
            const bar = document.querySelector(".active-bar");

            let currentIndex = -1;
            tabs.forEach((el, index) => {
                if (el.classList.contains('on')) {
                    currentIndex = index;
                }
            });

            if (currentIndex !== -1) {
                let newIndex = (currentIndex + 1 + tabs.length) % tabs.length;

                if (currentIndex === tabs.length - 1) {
                    newIndex = 0; // 현재 탭이 첫 번째 탭일 경우 마지막 탭으로 이동
                }

                tabs.forEach((el) => {
                    el.classList.remove("on");
                });
                contents.forEach((el) => {
                    el.classList.remove("on");
                });

                tabs[newIndex].classList.add("on");
                contents[newIndex].classList.add("on");

                bar.style.left = tabs[newIndex].offsetLeft + "px";
                bar.style.width = tabs[newIndex].offsetWidth + "px";
                bar.style.top = tabs[newIndex].offsetTop + tabs[newIndex].offsetHeight + "px";
            }
        }   
    </script> -->

    <script>
                window.onload=function(){
            const tabs = document.querySelectorAll(".tab-btn li");
            const bar = document.querySelector(".active-bar");
            const contents =document.querySelectorAll(".tab-content>li");
            // const brand_txt = document.querySelector(".brand_title");

            bar.style.left = tabs[0].offsetLeft + "px";
            bar.style.width = tabs[0].offsetWidth + "px";
            bar.style.top = tabs[0].offsetTop + tabs[0].offsetHeight + "px";

            tabs.forEach((el, index)=>{
                el.addEventListener("click", (e)=> {
                    let bar_index = 1;
                    e.preventDefault();
                    tabs.forEach((el)=>{
                        el.classList.remove("on");
                    })
                    el.classList.add("on");

                    bar.style.left = e.currentTarget.offsetLeft + "px";
                    bar.style.width = e.currentTarget.offsetWidth + "px";
                    bar.style.top = e.currentTarget.offsetTop + e.offsetHeight + "px";


                    contents.forEach((el)=>{
                        el.classList.remove("on");
                    })
                    contents[index].classList.add("on");
                })
            })
        }
        
        function switchTab(direction) {
            const tabs = document.querySelectorAll(".tab-btn li");
            const contents = document.querySelectorAll(".tab-content > li");
            const bar = document.querySelector(".active-bar");

            let currentIndex = -1;
            tabs.forEach((el, index) => {
                if (el.classList.contains('on')) {
                    currentIndex = index;
                }
            });

            if (currentIndex !== -1) {
                let newIndex;

                if (direction === 'prev') {
                    newIndex = (currentIndex - 1 + tabs.length) % tabs.length;
                    if (currentIndex === 0) {
                        newIndex = tabs.length - 1;
                    }
                } else if (direction === 'next') {
                    newIndex = (currentIndex + 1 + tabs.length) % tabs.length;
                    if (currentIndex === tabs.length - 1) {
                        newIndex = 0;
                    }
                }

                tabs.forEach((el) => {
                    el.classList.remove("on");
                });
                contents.forEach((el) => {
                    el.classList.remove("on");
                });

                tabs[newIndex].classList.add("on");
                contents[newIndex].classList.add("on");

                bar.style.left = tabs[newIndex].offsetLeft + "px";
                bar.style.width = tabs[newIndex].offsetWidth + "px";
                bar.style.top = tabs[newIndex].offsetTop + tabs[newIndex].offsetHeight + "px";
            }
        }

        // 'prev' 버튼 클릭 시 이전 탭으로 이동
        function prev() {
            switchTab('prev');
        }

        // 'next' 버튼 클릭 시 다음 탭으로 이동
        function next() {
            switchTab('next');
        }
    </script>
</head>
<body>
    <div class="tab-box" style="background-color: #a1b8f7;">
        <div class="tab">
            <div class="active-bar"></div>
            <ul class="tab-btn">
                <li class="on">
                    <img src="./star.svg" alt="">
                    <span>#01</span>
                </li>
                <li>
                    <img src="./star.svg" alt="">
                    <span>#02</span>
                </li>
                <li>
                    <img src="./star.svg" alt="">
                    <span>#03</span>
                </li>
                <li>
                    <img src="./star.svg" alt="">
                    <span>#04</span>
                </li>
                <li>
                    <img src="./star.svg" alt="">
                    <span>#05</span>
                </li>
                <li>
                    <img src="./star.svg" alt="">
                    <span>#06</span>
                </li>
                <li>
                    <img src="./star.svg" alt="">
                    <span>#07</span>
                </li>
            </ul>
        </div>

        <ul class="tab-arrow">
            <li><a href="" onclick="prev(); return false;"><</a></li>
            <li><a href="" onclick="next(); return false;">></a></li>
        </ul>
        <ul class="tab-content">
            <li class="on">1</li>
            <li>2</li>
            <li>3</li>
            <li>4</li>
            <li>5</li>
            <li>6</li>
            <li>7</li>
        </ul>
    </div>
</body>
</html>